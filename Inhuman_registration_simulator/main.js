function $(e){return 1!==document.querySelectorAll(e).length?document.querySelectorAll(e):document.querySelector(e)}let bnds=$(".puzzle").getBoundingClientRect();const qr_images=["image_part_001","image_part_002","image_part_003","image_part_004","image_part_005","image_part_006","image_part_007","image_part_008","image_part_009","image_part_010","image_part_011","image_part_012","image_part_013","image_part_014","image_part_015","image_part_016"];function array_shuffle(e){let t=[...e],a=[];for(;a.length!==e.length;){let e=t[Math.floor(Math.random()*t.length)];a.push(e),t=t.filter((t=>t!==e))}return a}array_shuffle(qr_images).forEach((e=>{let t=document.createElement("img");t.src=`./tiles/${e}.jpg`,t.draggable=!1,$(".puzzle").appendChild(t)})),setTimeout((function(){$(".puzzle img").forEach((e=>{let t=e.getBoundingClientRect();e.style.left=t.left-bnds.left+"px",e.style.top=t.top-bnds.top+"px"})),$(".puzzle img").forEach((e=>{e.style.position="absolute"}))}),10);const round_table=[0,64,128,192];function custom_round(e){let t=[];return round_table.forEach((a=>{e-30<=a&&t.push(a)})),t[0]}let focusedImg;$(".puzzle").addEventListener("mousedown",(e=>{"img"===e.path[0].tagName.toLowerCase()&&(focusedImg=e.path[0],focusedImg.style.zIndex=9)})),$(".puzzle").addEventListener("mouseup",(e=>{focusedImg.style.zIndex="",focusedImg=""})),$(".puzzle").addEventListener("mousemove",(e=>{if(1!==e.buttons||"img"!==e.path[0].tagName.toLowerCase()||focusedImg!==e.path[0])return;let t=e.path[0];t.style.left=e.pageX-bnds.left-30+"px",t.style.top=e.pageY-bnds.top-30+"px"})),window.addEventListener("resize",(()=>{bnds=$(".puzzle").getBoundingClientRect(),$(".puzzle-gray-overlay").style.left=bnds.left+"px",$(".puzzle-gray-overlay").style.top=bnds.top+"px"})),$(".snap").addEventListener("click",(()=>{$(".puzzle img").forEach((e=>{e.style.left=custom_round(parseInt(e.style.left))+"px",e.style.top=custom_round(parseInt(e.style.top))+"px"}))}));